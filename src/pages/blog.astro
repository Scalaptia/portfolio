---
import Layout from '../layouts/Layout.astro';
import BlogPost from '../components/BlogPost.astro';

export const meta = {
    title: 'blog',
    description: 'Blog posts and articles written by Fernando Haro.',
    url: 'https://fernando.haroware.com/blog/',
    type: 'website',
    keywords: 'fernando haro, harogato, software engineering, web development, programming, design, portfolio, developer, engineer, programmer',
};

// Get all posts from the posts directory and subdirectories
const posts = await Astro.glob('../pages/posts/**/*.md');
---

<Layout title="blog">
    <meta slot="tags" name="description" content={meta.description} />
    <meta slot="tags" property="og:title" content={meta.title} />
    <meta slot="tags" property="og:description" content={meta.description} />
    <meta slot="tags" property="og:url" content={meta.url} />
    <meta slot="tags" property="og:type" content={meta.type} />
    <meta slot="tags" name="twitter:card" content="summary_large_image" />
    <meta slot="tags" name="twitter:title" content={meta.title} />
    <meta slot="tags" name="twitter:description" content={meta.description} />
    <meta slot="tags" name="twitter:url" content={meta.url} />
    <meta slot="tags" name="twitter:creator" content="@Scalaptia" />
    <meta slot="tags" name="keywords" content={meta.keywords} />
    <meta slot="tags" name="robots" content="index, follow" />
    <meta slot="tags" name="author" content="Fernando Haro" />
    <meta slot="tags" name="language" content="en" />


    <div slot="content" class="px-8">
        <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full">
            {posts.map((post) => <BlogPost url={post.url} frontmatter={post.frontmatter} />)}
        </ul>
    </div>
</Layout>